{
   "Logging": {
      "LogLevel": {
         "Default": "Information",
         "Microsoft.AspNetCore": "Warning"
      }
   },
   "AllowedHosts": "*",
   "ReverseProxy": {
      "Routes": {
         "route_query": {
            "ClusterId": "cluster_query",
            "Match": {
               "Hosts": [ "query.elias.m0.com", "elias.m0.com", "query.elias.m1.com", "elias.m1.com", "query.elias.m2.com", "elias.m2.com", "query.elias.m3.com", "elias.m3.com" ],
               "Path": "{**catch-all}"
            }
         },
         "route_societal": {
            "ClusterId": "cluster_societal",
            "Match": {
               "Hosts": [ "soc.elias.m0.com", "soc.m0.com", "soc.elias.m1.com", "soc.m1.com", "soc.elias.m2.com", "soc.m2.com", "soc.elias.m3.com", "soc.m3.com" ],
               "Path": "{**catch-all}"
            }
         }
      },
      "Clusters": {
         "cluster_query": {
            "Destinations": {
               "destination1": {
                  "Address": "http://elias_query_service:8080"
               }
            }
         },
         "cluster_societal": {
            "Destinations": {
               "destination1": {
                  "Address": "http://elias_societal_service:8080"
               }
            }
         }
      }
   }
}


// https://learn.microsoft.com/en-us/aspnet/core/host-and-deploy/proxy-load-balancer?view=aspnetcore-6.0
// https://stackoverflow.com/questions/53705308/net-core-set-a-user-as-logged-in-and-authenticated

// https://www.youtube.com/watch?v=lcaDDxJv260&ab_channel=LesJackson



// todo fix the Hosts address to use regex for any domain, e.g. "query.elias.?*" or something
// - programmatically - https://microsoft.github.io/reverse-proxy/articles/config-filters.html
//"Hosts": [ "query.elias.m0.com", "elias.m0.com", "query.elias.m1.com", "elias.m1.com", "query.elias.m2.com", "elias.m2.com" ],
//"Hosts": [ "soc.elias.m0.com", "soc.m0.com", "soc.elias.m1.com", "soc.m1.com", "soc.elias.m2.com", "soc.m2.com" ],
// - via configuration
// dotnetrp@microsoft.com
//    https://www.youtube.com/watch?v=P8y8NAroVKk&ab_channel=dotnet
// Tratcher@outlook.com
//    https://github.com/Tratcher
//    https://github.com/microsoft/reverse-proxy/pull/817
// A quick question: can YARP route by subdomain, where as the domain is not specified or is regex anything. 
// I tried various regex expressions, but none of them works. Could not find this scenario in the docs, google 
// didn't help, and various chatbots either say it can, but their sample route customization that they provide 
// didn't work, or said not possible via customization but could be done programmatically. Here is what I mean:
//
//"Routes": {
//   "route1": {
//      "ClusterId": "cluster1",
//      "Match": {
//         "Hosts": [ "subdomain1.{**any-domain}", "subdomain1.subdomain11.{**any-domain}", "subdomain1.subdomain11.subdomain111.{**any-domain}" ],
//         "Path": "{**catch-all}"
//      }
//   },
//   "route2": {
//      "ClusterId": "cluster2",
//      "Match": {
//         "Hosts": [ "subdomain2.{**any-domain}", "subdomain2.subdomain22.{**any-domain}", "subdomain2.subdomain22.subdomain222.{**any-domain}" ],
//         "Path": "{**catch-all}"
//      }
//   }
//},
//"Clusters": {
//   "cluster1": { "Destinations": { "destination1": { "Address": "http://service1:8080" } } },
//   "cluster2": { "Destinations": { "destination1": { "Address": "http://service2:8080" } } }
//}
